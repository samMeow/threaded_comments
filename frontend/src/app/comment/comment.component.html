<form [formGroup]="newCommentForm" (ngSubmit)="postComment(newCommentForm.value)">
  <textarea name="message" formControlName="message"></textarea>
  <button type="submit">Send</button>
</form>
<mat-form-field>
  <mat-label>Sorting</mat-label>
  <mat-select (selectionChange)="sortChange.next($event)" [value]="allowedSorting[0].value">
    <mat-option *ngFor="let s of allowedSorting" [value]="s.value">
      {{s.label}}
    </mat-option>
  </mat-select>
</mat-form-field>
<mat-list *ngIf="comments$" class="list">
  <mat-list-item *ngFor="let c of comments$ | async" class="list-item">
    <app-comment-item [comment]="c" (afterReply)="afterReply($event)"></app-comment-item>
  </mat-list-item>
  <button *ngIf="canLoadMore$ | async" (click)="loadMoreClick.next($event)">Load more</button>
</mat-list>
<div *ngIf="loading$ | async">
  Loading
</div>
